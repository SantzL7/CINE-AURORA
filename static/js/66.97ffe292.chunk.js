"use strict";(self.webpackChunkcine_aurora=self.webpackChunkcine_aurora||[]).push([[66],{66:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(43),n=s(729),r=s(218),i=s(579);const l=e=>{const a=/[A-Z]/.test(e),s=/[a-z]/.test(e),t=/\d/.test(e),n=/[!@#$%^&*(),.?":{}|<>]/.test(e);return{isValid:e.length>=8&&a&&s&&t&&n,requirements:{minLength:e.length>=8,hasUpperCase:a,hasLowerCase:s,hasNumbers:t,hasSpecialChar:n}}};function o(){const{login:e,signup:a}=(0,n.A)(),s=(0,r.Zp)(),[o,u]=(0,t.useState)("login"),[c,m]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[v,f]=(0,t.useState)(!1),[j,x]=(0,t.useState)(0),[N,b]=(0,t.useState)(!1),[w,C]=(0,t.useState)(0);return(0,t.useEffect)(()=>{let e;return N&&w>0?e=setTimeout(()=>{C(e=>e-1)},1e3):N&&0===w&&(b(!1),x(0)),()=>clearTimeout(e)},[N,w]),(0,i.jsx)("div",{className:"auth-container",children:(0,i.jsxs)("form",{className:"auth-card",onSubmit:async function(t){if(t.preventDefault(),!v&&!N)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){if("signup"===o){if(!l(d).isValid)return void g("A senha n\xe3o atende aos requisitos de seguran\xe7a")}g(""),f(!0);try{"login"===o?await e(c,d):await a(c,d);s(c==="matheus0mendes0marinho@gmail.com"?"/admin":"/app",{replace:!0}),x(0)}catch(n){let e="Ocorreu um erro ao fazer login";switch(n.code){case"auth/user-not-found":case"auth/wrong-password":e="Email ou senha incorretos";const a=j+1;x(a),a>=5&&(b(!0),C(300),e="Muitas tentativas. Tente novamente em 5 minutos.");break;case"auth/email-already-in-use":e="Este email j\xe1 est\xe1 em uso";break;case"auth/weak-password":e="A senha \xe9 muito fraca";break;case"auth/too-many-requests":e="Muitas tentativas. Tente novamente mais tarde.";break;default:console.warn("Unhandled auth error:",n.code),e="Ocorreu um erro inesperado. Por favor, tente novamente."}g(e)}finally{f(!1)}}else g("Por favor, insira um email v\xe1lido")},children:[(0,i.jsx)("h1",{children:"Cine Aurora"}),(0,i.jsx)("p",{className:"muted",children:"Entre com sua conta ou cadastre-se"}),p&&(0,i.jsx)("div",{className:"error",children:p}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("input",{type:"email",placeholder:"Email",value:c,onChange:e=>m(e.target.value.trim()),required:!0,className:"input",disabled:N||v,autoComplete:"username"})}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("input",{type:"password",placeholder:"Senha",value:d,onChange:e=>h(e.target.value),required:!0,className:"input",disabled:N||v,autoComplete:"login"===o?"current-password":"new-password",minLength:"signup"===o?"8":void 0}),"signup"===o&&(0,i.jsxs)("div",{className:"password-requirements",children:[(0,i.jsx)("p",{className:"small muted",children:"A senha deve conter:"}),(0,i.jsxs)("ul",{className:"requirement-list",children:[(0,i.jsx)("li",{className:d.length>=8?"valid":"",children:"M\xednimo de 8 caracteres"}),(0,i.jsx)("li",{className:/[A-Z]/.test(d)?"valid":"",children:"Pelo menos uma letra mai\xfascula"}),(0,i.jsx)("li",{className:/[a-z]/.test(d)?"valid":"",children:"Pelo menos uma letra min\xfascula"}),(0,i.jsx)("li",{className:/\d/.test(d)?"valid":"",children:"Pelo menos um n\xfamero"}),(0,i.jsx)("li",{className:/[!@#$%^&*(),.?":{}|<>]/.test(d)?"valid":"",children:"Pelo menos um caractere especial"})]})]})]}),(0,i.jsx)("button",{type:"submit",className:"btn primary",disabled:v||N,children:v?(0,i.jsx)("span",{className:"spinner",children:"Carregando..."}):N?"Tente novamente em ".concat(Math.floor(w/60),":").concat((w%60).toString().padStart(2,"0")):"login"===o?"Entrar":"Cadastrar"}),(0,i.jsx)("button",{type:"button",className:"btn ghost",onClick:()=>{u("login"===o?"signup":"login"),g("")},disabled:v||N,children:"login"===o?"Criar uma conta":"J\xe1 tenho conta"})]})})}}}]);
//# sourceMappingURL=66.97ffe292.chunk.js.map