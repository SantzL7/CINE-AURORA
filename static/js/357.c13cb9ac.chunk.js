"use strict";(self.webpackChunkcine_aurora=self.webpackChunkcine_aurora||[]).push([[357],{357:(e,a,n)=>{n.r(a),n.d(a,{default:()=>p});var s=n(555),i=n(43),t=n(163),l=n(441),r=n(667),o=n(729),c=n(840),d=n(579);function p(){const{id:e}=(0,t.g)(),a=(0,t.Zp)(),[n,p]=(0,i.useState)(null),[m,x]=(0,i.useState)(!0),[b,h]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!1),{currentUser:f}=(0,o.A)();return(0,i.useEffect)(()=>{!async function(){if(e)try{const n=(0,r.H9)(l.db,"movies",e),i=await(0,r.getDoc)(n);i.exists()?p((0,s.A)({id:i.id},i.data())):a("/app",{replace:!0})}catch(n){console.error(n),a("/app",{replace:!0})}finally{x(!1)}}()},[e,a]),(0,i.useEffect)(()=>{!async function(){if(f&&e)try{g(!0);const a=(0,r.H9)(l.db,"users",f.uid,"watchlist",e),n=await(0,r.getDoc)(a);h(n.exists())}catch(a){console.error(a)}finally{g(!1)}}()},[f,e]),m?(0,d.jsx)("div",{className:"player__loading",children:"Carregando..."}):n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.A,{}),(0,d.jsxs)("main",{className:"content",style:{padding:"16px 24px 40px"},children:[(0,d.jsx)("button",{className:"btn ghost",onClick:()=>a(-1),style:{marginBottom:16},children:"Voltar"}),(0,d.jsx)("section",{className:"details",style:{maxWidth:"1200px",margin:"0 auto",padding:"0 24px"},children:(0,d.jsxs)("div",{className:"details__hero",style:{display:"flex",gap:"40px",alignItems:"flex-start",maxWidth:"100%",marginTop:"20px"},children:[(0,d.jsx)("div",{className:"details__poster",style:{flex:"0 0 300px",position:"relative",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:n.thumbnailUrl&&(0,d.jsx)("img",{src:n.thumbnailUrl,alt:n.title,style:{width:"100%",height:"auto",display:"block"}})}),(0,d.jsxs)("div",{className:"details__info",style:{flex:"1",maxWidth:"800px"},children:[(0,d.jsx)("h1",{className:"details__title",style:{fontSize:"2.5rem",margin:"0 0 16px 0",fontWeight:"700",color:"#fff"},children:n.title}),(0,d.jsxs)("div",{className:"details__meta",style:{margin:"20px 0",display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[n.year&&(0,d.jsx)("span",{style:{backgroundColor:"rgba(255, 255, 255, 0.15)",padding:"6px 12px",borderRadius:"20px",fontSize:"1rem",color:"#fff",fontWeight:"500"},children:n.year}),n.type&&(0,d.jsx)("span",{style:{backgroundColor:"rgba(255, 255, 255, 0.15)",padding:"6px 12px",borderRadius:"20px",fontSize:"1rem",color:"#fff",fontWeight:"500",textTransform:"capitalize"},children:"series"===n.type?"S\xe9rie":"Filme"}),n.genres&&n.genres.length>0&&n.genres.map((e,a)=>(0,d.jsx)("span",{style:{backgroundColor:"rgba(255, 255, 255, 0.15)",padding:"6px 12px",borderRadius:"20px",fontSize:"1rem",color:"#fff",fontWeight:"500",textTransform:"capitalize"},children:e.trim()},a))]}),n.description&&(0,d.jsx)("p",{className:"details__desc",style:{lineHeight:"1.8",margin:"24px 0 32px",fontSize:"1.1rem",color:"rgba(255, 255, 255, 0.9)",maxWidth:"100%"},children:n.description}),(0,d.jsxs)("div",{style:{display:"flex",gap:"16px",marginTop:"32px",flexWrap:"wrap",alignItems:"center"},children:[(0,d.jsx)("button",{className:"btn primary",onClick:()=>a("/watch/".concat(n.id)),style:{padding:"12px 32px",fontSize:"1.1rem",fontWeight:"600",borderRadius:"8px",minWidth:"180px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},children:"\u25b6 Assistir"}),f&&(0,d.jsx)("button",{className:"btn",type:"button",onClick:async function(){if(f&&n)try{g(!0);const e=(0,r.H9)(l.db,"users",f.uid,"watchlist",n.id);(await(0,r.getDoc)(e)).exists()?(await(0,r.kd)(e),h(!1)):(await(0,r.BN)(e,{createdAt:new Date}),h(!0))}catch(e){console.error(e)}finally{g(!1)}},disabled:u,style:{padding:"12px 24px",fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"8px",borderRadius:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#fff",cursor:"pointer",transition:"all 0.2s ease",minWidth:"180px",justifyContent:"center"},onMouseOver:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseOut:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.1)"},children:b?"\u2713 Na sua lista":"+ Minha lista"})]})]})]})})]})]}):null}},840:(e,a,n)=>{n.d(a,{A:()=>r});var s=n(43),i=n(163),t=n(729),l=n(579);function r(){const[e,a]=(0,s.useState)(!1),[n,r]=(0,s.useState)(!1),o=(0,i.Zp)(),c=(0,i.zy)(),{currentUser:d,logout:p}=(0,t.A)();async function m(){try{await p(),o("/login",{replace:!0})}catch(e){console.error(e)}}(0,s.useEffect)(()=>{function e(){a(window.scrollY>10)}return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.useEffect)(()=>{r(!1)},[c]);const x=e=>{o(e),r(!1)};return(0,l.jsxs)("header",{className:"navbar".concat(e?" navbar--scrolled":""),children:[(0,l.jsxs)("div",{className:"navbar__brand",onClick:()=>x("/app"),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[(0,l.jsx)("img",{src:"/logo192.png",alt:"Logo CineAurora",style:{height:"40px",width:"auto"}}),(0,l.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.2rem"},children:"CineAurora"})]}),(0,l.jsxs)("nav",{className:"navbar__nav",children:[(0,l.jsx)("button",{className:"navbar__link".concat("/app"!==c.pathname||c.search?"":" navbar__link--active"),onClick:()=>o("/app"),children:"Home"}),(0,l.jsx)("button",{className:"navbar__link".concat("?type=movie"===c.search?" navbar__link--active":""),onClick:()=>o("/app?type=movie"),children:"Filmes"}),(0,l.jsx)("button",{className:"navbar__link".concat("?type=series"===c.search?" navbar__link--active":""),onClick:()=>o("/app?type=series"),children:"S\xe9ries"}),(0,l.jsx)("button",{className:"navbar__link".concat("/my-list"===c.pathname?" navbar__link--active":""),onClick:()=>o("/my-list"),children:"Minha lista"})]}),(0,l.jsxs)("div",{className:"navbar__right",children:["matheus0mendes0marinho@gmail.com"===(null===d||void 0===d?void 0:d.email)&&(0,l.jsx)("button",{className:"btn",type:"button",onClick:()=>o("/admin"),children:"Admin"}),(0,l.jsx)("button",{className:"navbar__icon","aria-label":"Buscar",onClick:()=>o("/search"),children:"\ud83d\udd0d"}),(0,l.jsx)("button",{className:"btn",onClick:m,children:"Sair"})]}),(0,l.jsxs)("button",{className:"navbar__mobile-toggle ".concat(n?"open":""),onClick:()=>r(!n),"aria-label":"Menu",children:[(0,l.jsx)("span",{}),(0,l.jsx)("span",{}),(0,l.jsx)("span",{})]}),(0,l.jsxs)("div",{className:"navbar__mobile-menu ".concat(n?"open":""),children:[(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>x("/app"),children:"Home"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>x("/app?type=movie"),children:"Filmes"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>x("/app?type=series"),children:"S\xe9ries"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>x("/my-list"),children:"Minha lista"}),"matheus0mendes0marinho@gmail.com"===(null===d||void 0===d?void 0:d.email)&&(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>x("/admin"),children:"Admin"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>{m(),r(!1)},style:{color:"#ef4444"},children:"Sair"})]})]})}}}]);
//# sourceMappingURL=357.c13cb9ac.chunk.js.map