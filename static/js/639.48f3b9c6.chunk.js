"use strict";(self.webpackChunkcine_aurora=self.webpackChunkcine_aurora||[]).push([[639],{439:(e,a,t)=>{t.d(a,{A:()=>u});var i=t(218),n=t(43),s=t(729),l=t(503),o=t(667),r=t(641),c=t(579);const d="https://via.placeholder.com/300x450?text=Sem+Imagem";function u(e){var a;let{movie:t,locked:u=!1}=e;const m=(0,i.Zp)(),{currentUser:p}=(0,s.A)(),[h,v]=(0,n.useState)(!1),[b,x]=(0,n.useState)(!1),g=(0,n.useMemo)(()=>({id:(null===t||void 0===t?void 0:t.id)||"",title:(null===t||void 0===t?void 0:t.title)||"Filme n\xe3o dispon\xedvel",thumbnailUrl:(null===t||void 0===t?void 0:t.thumbnailUrl)||d,genres:Array.isArray(null===t||void 0===t?void 0:t.genres)?t.genres:[],year:(null===t||void 0===t?void 0:t.year)||"",description:(null===t||void 0===t?void 0:t.description)||"",type:"movie"}),[t]),y=(0,n.useCallback)(async()=>{if(null!==p&&void 0!==p&&p.uid&&g.id)try{const e=(0,o.H9)(l.db,"users",p.uid,"watchlist",g.id),a=await(0,o.getDoc)(e);v(a.exists())}catch(e){console.error("Erro ao verificar lista de favoritos:",e),v(!1)}else v(!1)},[p,g.id]);(0,n.useEffect)(()=>{y()},[y]);const f=(0,n.useCallback)(async e=>{if(null===e||void 0===e||e.stopPropagation(),p)if(g.id)try{const e=(0,o.H9)(l.db,"users",p.uid,"watchlist",g.id);h?(await(0,o.kd)(e),v(!1)):(await(0,o.BN)(e,{id:g.id,type:g.type,title:g.title||"Filme sem t\xedtulo",thumbnailUrl:g.thumbnailUrl||d,addedAt:(new Date).toISOString()}),v(!0))}catch(a){console.error("Erro ao atualizar lista de favoritos:",a)}else console.error("ID do filme inv\xe1lido");else m("/login")},[p,h,m,g]),j=(0,n.useCallback)(()=>{u?m("/login"):g.id&&m("/title/".concat(g.id))},[u,m,g.id]);return(0,c.jsxs)("div",{className:"card",onClick:j,title:g.title,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),style:{position:"relative",cursor:u?"not-allowed":"pointer",opacity:u?.7:1,transition:"all 0.3s ease",transform:b?"scale(1.05)":"scale(1)",zIndex:b?2:1,width:"200px",minWidth:"200px",height:"auto",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,c.jsxs)("div",{style:{position:"relative",width:"100%",paddingTop:"150%"},children:[(0,c.jsx)(r.A,{src:g.thumbnailUrl,alt:"Capa de ".concat(g.title),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease"}}),(0,c.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 50%)",display:"flex",flexDirection:"column",justifyContent:"flex-end",padding:"12px",opacity:b?1:0,transition:"opacity 0.3s ease"},children:[(0,c.jsx)("h3",{style:{color:"#fff",margin:"0 0 8px 0",fontSize:"0.95rem",textShadow:"0 1px 3px rgba(0,0,0,0.6)"},children:g.title}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"auto"},children:[(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"rgba(255,255,255,0.9)",fontSize:"0.8rem"},children:[g.year&&(0,c.jsx)("span",{children:g.year}),(null===(a=g.genres)||void 0===a?void 0:a[0])&&(0,c.jsxs)("span",{children:["\u2022 ",g.genres[0]]})]}),(0,c.jsx)("button",{onClick:e=>{e.stopPropagation(),f(e)},style:{background:h?"rgba(13, 110, 253, 0.9)":"rgba(0, 0, 0, 0.6)",border:"none",color:"#fff",width:"28px",height:"28px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",fontSize:"1rem"},title:h?"Remover da lista":"Adicionar \xe0 lista",onMouseEnter:e=>{h&&(e.currentTarget.innerHTML="\xd7",e.currentTarget.style.transform="scale(1.1)")},onMouseLeave:e=>{h&&(e.currentTarget.innerHTML="\u2713",e.currentTarget.style.transform="scale(1)")},children:h?"\u2713":"+"})]})]})]}),u&&(0,c.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.7)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",pointerEvents:"none"},children:"Fa\xe7a login"})]})}},639:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var i=t(555),n=t(43),s=t(667),l=t(503),o=t(840),r=t(439),c=t(579);function d(){const[e,a]=(0,n.useState)(""),[t,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!1);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.A,{}),(0,c.jsxs)("main",{className:"content",children:[(0,c.jsx)("form",{onSubmit:async function(a){a.preventDefault();const t=e.trim().toLowerCase();if(t){m(!0);try{const e=await(0,s.GG)((0,s.rJ)(l.db,"movies")),a=e.docs.map(e=>(0,i.A)({id:e.id},e.data())).filter(e=>(e.title||"").toLowerCase().includes(t));d(a)}catch(n){console.error(n)}finally{m(!1)}}},style:{marginBottom:16},children:(0,c.jsx)("input",{className:"input",placeholder:"Buscar filmes e s\xe9ries...",value:e,onChange:e=>a(e.target.value)})}),u&&(0,c.jsx)("div",{children:"Carregando..."}),!u&&0===t.length&&e&&(0,c.jsx)("div",{className:"muted",children:"Nenhum resultado encontrado."}),(0,c.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:12},children:t.map(e=>(0,c.jsx)(r.A,{movie:e},e.id))})]})]})}},641:(e,a,t)=>{t.d(a,{A:()=>r});var i=t(555),n=t(986),s=t(43),l=t(579);const o=["src","alt","className","style"];function r(e){let{src:a,alt:t,className:r,style:c}=e,d=(0,n.A)(e,o);const[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1);return(0,l.jsx)("div",{style:(0,i.A)({position:"relative",overflow:"hidden",backgroundColor:"#222"},c),className:r,children:(0,l.jsx)("img",(0,i.A)({src:u?"https://via.placeholder.com/300x450?text=Sem+Imagem":a,alt:t,loading:"lazy",onError:()=>{m(!0)},onLoad:()=>{h(!0)},style:{width:"100%",height:"100%",objectFit:"cover",opacity:p?1:0,transition:"opacity 0.3s ease-in-out",display:"block"}},d))})}},840:(e,a,t)=>{t.d(a,{A:()=>o});var i=t(43),n=t(218),s=t(729),l=t(579);function o(){const[e,a]=(0,i.useState)(!1),[t,o]=(0,i.useState)(!1),r=(0,n.Zp)(),c=(0,n.zy)(),{currentUser:d,logout:u}=(0,s.A)();async function m(){try{await u(),r("/login",{replace:!0})}catch(e){console.error(e)}}(0,i.useEffect)(()=>{function e(){a(window.scrollY>10)}return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,i.useEffect)(()=>{o(!1)},[c]);const p=e=>{r(e),o(!1)};return(0,l.jsxs)("header",{className:"navbar".concat(e?" navbar--scrolled":""),children:[(0,l.jsxs)("div",{className:"navbar__brand",onClick:()=>p("/app"),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"10px"},children:[(0,l.jsx)("img",{src:"/logo192.png",alt:"Logo CineAurora",style:{height:"40px",width:"auto"}}),(0,l.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.2rem"},children:"CineAurora"})]}),(0,l.jsxs)("nav",{className:"navbar__nav",children:[(0,l.jsx)("button",{className:"navbar__link".concat("/app"!==c.pathname||c.search?"":" navbar__link--active"),onClick:()=>r("/app"),children:"Home"}),(0,l.jsx)("button",{className:"navbar__link".concat("?type=movie"===c.search?" navbar__link--active":""),onClick:()=>r("/app?type=movie"),children:"Filmes"}),(0,l.jsx)("button",{className:"navbar__link".concat("?type=series"===c.search?" navbar__link--active":""),onClick:()=>r("/app?type=series"),children:"S\xe9ries"}),(0,l.jsx)("button",{className:"navbar__link".concat("/my-list"===c.pathname?" navbar__link--active":""),onClick:()=>r("/my-list"),children:"Minha lista"})]}),(0,l.jsxs)("div",{className:"navbar__right",children:["matheus0mendes0marinho@gmail.com"===(null===d||void 0===d?void 0:d.email)&&(0,l.jsx)("button",{className:"btn",type:"button",onClick:()=>r("/admin"),children:"Admin"}),(0,l.jsx)("button",{className:"navbar__icon","aria-label":"Buscar",onClick:()=>r("/search"),children:"\ud83d\udd0d"}),(0,l.jsx)("button",{className:"btn",onClick:m,children:"Sair"})]}),(0,l.jsxs)("button",{className:"navbar__mobile-toggle ".concat(t?"open":""),onClick:()=>o(!t),"aria-label":"Menu",children:[(0,l.jsx)("span",{}),(0,l.jsx)("span",{}),(0,l.jsx)("span",{})]}),(0,l.jsxs)("div",{className:"navbar__mobile-menu ".concat(t?"open":""),children:[(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>p("/app"),children:"Home"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>p("/app?type=movie"),children:"Filmes"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>p("/app?type=series"),children:"S\xe9ries"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>p("/my-list"),children:"Minha lista"}),"matheus0mendes0marinho@gmail.com"===(null===d||void 0===d?void 0:d.email)&&(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>p("/admin"),children:"Admin"}),(0,l.jsx)("button",{className:"navbar__mobile-link",onClick:()=>{m(),o(!1)},style:{color:"#ef4444"},children:"Sair"})]})]})}}}]);
//# sourceMappingURL=639.48f3b9c6.chunk.js.map