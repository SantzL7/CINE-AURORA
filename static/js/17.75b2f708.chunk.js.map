{"version":3,"file":"static/js/17.75b2f708.chunk.js","mappings":"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","sources":["components/features/SeriesCard.js","components/common/Skeleton.js","components/features/Row.js","hooks/useRowData.js","components/features/Card.js","components/common/OptimizedImage.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { db } from '../../firebase/firebase';\nimport { doc, getDoc, setDoc, deleteDoc } from 'firebase/firestore';\nimport OptimizedImage from '../common/OptimizedImage';\n\n// URL de imagem padrão\nconst DEFAULT_THUMBNAIL = 'https://via.placeholder.com/300x450?text=Sem+Imagem';\n\nexport default function SeriesCard({ series: seriesProp, locked = false }) {\n  const navigate = useNavigate();\n  const { currentUser } = useAuth();\n  const [isInWatchlist, setIsInWatchlist] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n\n  // Garante que series nunca será undefined ou nulo e define valores padrão\n  // Garante que series nunca será undefined ou nulo e define valores padrão\n  const series = useMemo(\n    () => ({\n      id: seriesProp?.id || '',\n      title: seriesProp?.title || 'Série não disponível',\n      thumbnailUrl: seriesProp?.thumbnailUrl || DEFAULT_THUMBNAIL,\n      genres: Array.isArray(seriesProp?.genres) ? seriesProp.genres : [],\n      year: seriesProp?.year || '',\n      type: seriesProp?.type || 'series', // Garante que o tipo está definido\n      description: seriesProp?.description || ''\n    }),\n    [seriesProp]\n  );\n\n  // Verifica se a série está na lista de favoritos\n  const checkWatchlist = useCallback(async () => {\n    if (!currentUser?.uid || !series.id) {\n      setIsInWatchlist(false);\n      return;\n    }\n\n    try {\n      const watchlistRef = doc(db, 'users', currentUser.uid, 'watchlist', series.id);\n      const docSnap = await getDoc(watchlistRef);\n      setIsInWatchlist(docSnap.exists());\n    } catch (error) {\n      console.error('Erro ao verificar lista de favoritos:', error);\n      setIsInWatchlist(false);\n    }\n  }, [currentUser, series.id]);\n\n  useEffect(() => {\n    checkWatchlist();\n  }, [checkWatchlist]);\n\n  // Função para alternar a série na lista de favoritos\n  const toggleWatchlist = useCallback(\n    async (e) => {\n      e?.stopPropagation();\n\n      if (!currentUser) {\n        navigate('/login');\n        return;\n      }\n\n      if (!series.id) {\n        console.error('ID da série inválido');\n        return;\n      }\n\n      try {\n        const watchlistRef = doc(db, 'users', currentUser.uid, 'watchlist', series.id);\n\n        if (isInWatchlist) {\n          await deleteDoc(watchlistRef);\n          setIsInWatchlist(false);\n        } else {\n          await setDoc(watchlistRef, {\n            id: series.id,\n            type: series.type, // Usa o tipo da série\n            title: series.title || 'Série sem título',\n            thumbnailUrl: series.thumbnailUrl || DEFAULT_THUMBNAIL,\n            addedAt: new Date().toISOString()\n          });\n          setIsInWatchlist(true);\n        }\n      } catch (error) {\n        console.error('Erro ao atualizar lista de favoritos:', error);\n      }\n    },\n    [currentUser, isInWatchlist, navigate, series]\n  );\n\n  const handleClick = useCallback(() => {\n    if (!series.id) {\n      console.error('ID da série inválido');\n      return;\n    }\n\n    if (locked) {\n      navigate('/login');\n    } else {\n      navigate(`/series/${series.id}`);\n    }\n  }, [locked, navigate, series.id]);\n\n  return (\n    <div\n      className=\"card\"\n      onClick={handleClick}\n      title={series.title}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      style={{\n        position: 'relative',\n        cursor: locked ? 'not-allowed' : 'pointer',\n        opacity: locked ? 0.7 : 1,\n        transition: 'all 0.3s ease',\n        transform: isHovered ? 'scale(1.05)' : 'scale(1)',\n        zIndex: isHovered ? 2 : 1,\n        width: '200px',\n        minWidth: '200px',\n        height: 'auto',\n        borderRadius: '8px',\n        overflow: 'hidden',\n        boxShadow: '0 4px 8px rgba(0,0,0,0.2)'\n      }}\n    >\n      <div style={{ position: 'relative', width: '100%', paddingTop: '150%' }}>\n        <OptimizedImage\n          src={series.thumbnailUrl}\n          alt={`Capa de ${series.title}`}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover',\n            transition: 'transform 0.3s ease'\n          }}\n        />\n\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 50%)',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'flex-end',\n            padding: '12px',\n            opacity: isHovered ? 1 : 0,\n            transition: 'opacity 0.3s ease'\n          }}\n        >\n          <h3\n            style={{\n              color: '#fff',\n              margin: '0 0 8px 0',\n              fontSize: '0.95rem',\n              textShadow: '0 1px 3px rgba(0,0,0,0.6)'\n            }}\n          >\n            {series.title}\n          </h3>\n\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginTop: 'auto'\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n                color: 'rgba(255,255,255,0.9)',\n                fontSize: '0.8rem'\n              }}\n            >\n              {series.year && <span>{series.year}</span>}\n              {series.genres?.[0] && <span>• {series.genres[0]}</span>}\n            </div>\n\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                toggleWatchlist(e);\n              }}\n              style={{\n                background: isInWatchlist ? 'rgba(13, 110, 253, 0.9)' : 'rgba(0, 0, 0, 0.6)',\n                border: 'none',\n                color: '#fff',\n                width: '28px',\n                height: '28px',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                fontSize: '1rem',\n                ':hover': {\n                  transform: 'scale(1.1)'\n                }\n              }}\n              title={isInWatchlist ? 'Remover da lista' : 'Adicionar à lista'}\n            >\n              {isInWatchlist ? '✓' : '+'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {locked && (\n        <div\n          style={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            background: 'rgba(0,0,0,0.7)',\n            color: 'white',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            pointerEvents: 'none'\n          }}\n        >\n          Faça login\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport './Skeleton.css';\n\nexport default function Skeleton({ type = 'text', className = '' }) {\n  const classes = `skeleton ${type === 'card' ? 'skeleton-card' : type === 'title' ? 'skeleton-title' : 'skeleton-text'} ${className}`;\n  return <div className={classes}></div>;\n}\n","import { useEffect, useState, useRef, useCallback } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport Card from './Card';\nimport SeriesCard from './SeriesCard';\nimport Skeleton from '../common/Skeleton';\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\nimport { useRowData } from '../../hooks/useRowData';\nimport './Row.css';\n\nexport default function Row({\n  title,\n  genre,\n  type = 'movie', // 'movie' ou 'series'\n  locked = false,\n  watchlist = false,\n  continueWatching = false\n}) {\n  const { currentUser } = useAuth();\n  const { items, loading } = useRowData({\n    genre,\n    type,\n    watchlist,\n    continueWatching,\n    currentUser\n  });\n\n  const scrollerRef = useRef(null);\n  const [showLeftButton, setShowLeftButton] = useState(false);\n  const [showRightButton, setShowRightButton] = useState(true);\n\n  const scroll = useCallback((direction) => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n\n    const scrollAmount = direction === 'left' ? -400 : 400;\n    scroller.scrollBy({ left: scrollAmount, behavior: 'smooth' });\n  }, []);\n\n  const checkScroll = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n\n    setShowLeftButton(scroller.scrollLeft > 0);\n    setShowRightButton(scroller.scrollLeft < scroller.scrollWidth - scroller.clientWidth - 10);\n  }, []);\n\n  useEffect(() => {\n    const scroller = scrollerRef.current;\n    if (scroller) {\n      scroller.addEventListener('scroll', checkScroll);\n      // Verificar estado inicial\n      checkScroll();\n      return () => scroller.removeEventListener('scroll', checkScroll);\n    }\n  }, [items, checkScroll]); // Re-run when items change\n\n  return (\n    <section className=\"row\">\n      <h2 className=\"row__title\">{title}</h2>\n      <div className=\"row__container\">\n        {showLeftButton && (\n          <button\n            className=\"nav-button nav-button--left\"\n            onClick={() => scroll('left')}\n            aria-label=\"Rolar para a esquerda\"\n          >\n            <FaChevronLeft />\n          </button>\n        )}\n\n        <div className=\"row__scroller\" ref={scrollerRef}>\n          {loading ? (\n            // Exibe 6 skeletons enquanto carrega\n            Array.from({ length: 6 }).map((_, index) => <Skeleton key={index} type=\"card\" />)\n          ) : items.length === 0 ? (\n            <div className=\"row__empty\">\n              {watchlist ? 'Nenhum item na sua lista' : 'Nenhum item encontrado'}\n            </div>\n          ) : (\n            items.map((item) => {\n              try {\n                // Determina se o item é uma série com base no tipo ou no tipo da linha\n                const isSeries = item.type === 'series' || type === 'series';\n\n                // Escolhe o componente apropriado\n                const Component = isSeries ? SeriesCard : Card;\n\n                // Prepara as props apropriadas para cada tipo de componente\n                const props = isSeries\n                  ? {\n                      series: {\n                        ...item,\n                        // Garante que o ID da série está definido\n                        id: item.seriesId || item.id,\n                        // Garante que temos um ID de série\n                        seriesId: item.seriesId || item.id\n                      },\n                      locked: locked && !currentUser\n                    }\n                  : {\n                      movie: {\n                        ...item,\n                        // Garante que o ID do filme está definido\n                        id: item.id\n                      },\n                      locked: locked && !currentUser\n                    };\n\n                // Usa o ID da série para séries, se disponível\n                const key = isSeries ? item.seriesId || item.id : item.id;\n\n                return <Component key={key} {...props} />;\n              } catch (error) {\n                console.error('Erro ao renderizar item:', error, { item });\n                return null;\n              }\n            })\n          )}\n        </div>\n\n        {showRightButton && (\n          <button\n            className=\"nav-button nav-button--right\"\n            onClick={() => scroll('right')}\n            aria-label=\"Rolar para a direita\"\n          >\n            <FaChevronRight />\n          </button>\n        )}\n      </div>\n    </section>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport { collection, getDocs, query, where, doc, getDoc, limit } from 'firebase/firestore';\nimport { db } from '../firebase/firebase';\n\nexport function useRowData({\n  genre,\n  type = 'movie',\n  watchlist = false,\n  continueWatching = false,\n  currentUser\n}) {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Função para buscar itens de uma coleção específica\n  const fetchItems = useCallback(async (collectionName, genreFilter) => {\n    let data = [];\n    try {\n      if (genreFilter) {\n        // Tenta buscar com o novo formato de array de gêneros\n        const qNew = query(\n          collection(db, collectionName),\n          where('genres', 'array-contains', genreFilter)\n        );\n        const snapNew = await getDocs(qNew);\n        data = snapNew.docs.map((docSnap) => ({\n          id: docSnap.id,\n          type: collectionName,\n          ...docSnap.data()\n        }));\n\n        // Se não encontrar nada, tenta o formato antigo\n        if (data.length === 0) {\n          const qOld = query(collection(db, collectionName), where('genre', '==', genreFilter));\n          const snapOld = await getDocs(qOld);\n          data = snapOld.docs.map((docSnap) => ({\n            id: docSnap.id,\n            type: collectionName,\n            ...docSnap.data()\n          }));\n        }\n      } else {\n        // Se não houver gênero específico, busca todos os itens (limitado a 10)\n        const q = query(collection(db, collectionName), limit(10));\n        const snapshot = await getDocs(q);\n        data = snapshot.docs.map((docSnap) => ({\n          id: docSnap.id,\n          type: collectionName,\n          ...docSnap.data()\n        }));\n      }\n    } catch (err) {\n      console.error(`Erro ao buscar itens de ${collectionName}:`, err);\n      // Não lança erro aqui para permitir que outras buscas continuem\n    }\n    return data;\n  }, []);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    async function load() {\n      setLoading(true);\n      setError(null);\n      try {\n        if (continueWatching) {\n          if (!currentUser) {\n            if (isMounted) setItems([]);\n            return;\n          }\n\n          try {\n            let progressSnap,\n              watchingSnap,\n              userWatchingList = [];\n\n            try {\n              const [progressSnapResult, watchingSnapResult, userDoc] = await Promise.all([\n                getDocs(collection(db, 'users', currentUser.uid, 'progress')),\n                getDocs(collection(db, 'users', currentUser.uid, 'watching')),\n                getDoc(doc(db, 'users', currentUser.uid))\n              ]);\n\n              progressSnap = progressSnapResult;\n              watchingSnap = watchingSnapResult;\n              userWatchingList = userDoc.exists() ? userDoc.data().watching || [] : [];\n            } catch (err) {\n              console.error('Erro ao buscar itens em andamento:', err);\n              progressSnap = { docs: [], size: 0, empty: true };\n              watchingSnap = { docs: [], size: 0, empty: true };\n            }\n\n            const allItems = [];\n            const processedSeriesIds = new Set();\n\n            // Processa filmes (progress)\n            progressSnap.docs.forEach((docSnap) => {\n              const data = docSnap.data();\n              allItems.push({\n                id: docSnap.id,\n                type: 'movie',\n                currentTime: data.currentTime || 0,\n                duration: data.duration || 0,\n                ...data\n              });\n            });\n\n            // Processa séries (watching)\n            watchingSnap.docs.forEach((docSnap) => {\n              const data = docSnap.data();\n              const seriesId = data.seriesId || docSnap.id.split('-')[0];\n              if (!seriesId) return;\n\n              processedSeriesIds.add(seriesId);\n              allItems.push({\n                id: seriesId,\n                type: 'series',\n                currentTime: data.currentTime || 0,\n                duration: data.duration || 0,\n                ...data,\n                seriesId: seriesId\n              });\n            });\n\n            // Adiciona as séries da lista de assistir do usuário\n            userWatchingList.forEach((series) => {\n              if (!series.seriesId) return;\n              if (processedSeriesIds.has(series.seriesId)) return;\n\n              allItems.push({\n                id: series.seriesId,\n                type: 'series',\n                currentTime: 0,\n                duration: 0,\n                ...series\n              });\n            });\n\n            if (allItems.length === 0) {\n              if (isMounted) setItems([]);\n              return;\n            }\n\n            // Filtra por tipo se especificado\n            const filteredItems = type\n              ? allItems.filter((item) => {\n                  const normalizedType = item.type === 'movies' ? 'movie' : item.type;\n                  const targetType = type === 'movies' ? 'movie' : type;\n                  return normalizedType === targetType;\n                })\n              : allItems;\n\n            // Busca os detalhes de cada item\n            const itemPromises = filteredItems.map((item) => {\n              return new Promise(async (resolve) => {\n                try {\n                  const isSeries = item.type === 'series';\n                  const collectionName = isSeries ? 'series' : 'movies';\n                  const docId = isSeries ? item.seriesId || item.id : item.id;\n\n                  if (!docId) {\n                    resolve(null);\n                    return;\n                  }\n\n                  const docSnap = await getDoc(doc(db, collectionName, docId));\n\n                  if (docSnap.exists()) {\n                    const itemData = docSnap.data();\n                    if (!itemData.id) itemData.id = docSnap.id;\n\n                    const progress =\n                      item.duration > 0\n                        ? item.currentTime / item.duration\n                        : itemData.duration\n                          ? item.currentTime / itemData.duration\n                          : 0;\n\n                    resolve({\n                      id: docSnap.id,\n                      type: isSeries ? 'series' : 'movies',\n                      progress: Math.min(progress, 0.99),\n                      ...itemData,\n                      currentTime: item.currentTime,\n                      duration: item.duration || itemData.duration,\n                      ...(isSeries && !itemData.seriesId ? { seriesId: docSnap.id } : {})\n                    });\n                  } else {\n                    resolve(null);\n                  }\n                } catch (err) {\n                  console.error(`Erro ao carregar item:`, err);\n                  resolve(null);\n                }\n              });\n            });\n\n            const itemSnaps = await Promise.all(itemPromises);\n            const validItems = itemSnaps.filter(Boolean);\n\n            if (isMounted) setItems(validItems);\n          } catch (err) {\n            console.error('Erro ao carregar itens em andamento:', err);\n            if (isMounted) {\n              setError(err);\n              setItems([]);\n            }\n          }\n        } else if (watchlist) {\n          if (!currentUser) {\n            if (isMounted) setItems([]);\n            return;\n          }\n\n          try {\n            const watchlistRef = collection(db, 'users', currentUser.uid, 'watchlist');\n            const listSnap = await getDocs(watchlistRef);\n            const watchlistItems = [];\n\n            for (const docSnap of listSnap.docs) {\n              const item = { id: docSnap.id, ...docSnap.data() };\n              let itemType = item.type;\n              if (itemType === 'movie') itemType = 'movies';\n\n              if ((!type || itemType === type) && itemType) {\n                try {\n                  const itemDoc = await getDoc(doc(db, itemType, item.id));\n                  if (itemDoc.exists()) {\n                    watchlistItems.push({\n                      id: itemDoc.id,\n                      type: itemType,\n                      ...itemDoc.data()\n                    });\n                  }\n                } catch (e) {\n                  console.error(`Erro ao carregar item ${item.id}:`, e);\n                }\n              }\n            }\n\n            watchlistItems.sort((a, b) => (a.title || '').localeCompare(b.title || ''));\n            if (isMounted) setItems(watchlistItems);\n          } catch (err) {\n            console.error('Erro ao carregar lista de favoritos:', err);\n            if (isMounted) {\n              setError(err);\n              setItems([]);\n            }\n          }\n        } else {\n          let data = [];\n          if (type === 'series') {\n            data = await fetchItems('series', genre);\n          } else if (type === 'movie') {\n            data = await fetchItems('movies', genre);\n          } else {\n            const [moviesData, seriesData] = await Promise.all([\n              fetchItems('movies', genre),\n              fetchItems('series', genre)\n            ]);\n            data = [...moviesData, ...seriesData];\n            data.sort((a, b) => a.title.localeCompare(b.title));\n          }\n          if (isMounted) setItems(data);\n        }\n      } catch (err) {\n        console.error('Erro geral ao carregar itens:', err);\n        if (isMounted) setError(err);\n      } finally {\n        if (isMounted) setLoading(false);\n      }\n    }\n\n    load();\n\n    return () => {\n      isMounted = false;\n    };\n  }, [genre, watchlist, continueWatching, currentUser, type, fetchItems]);\n\n  return { items, loading, error };\n}\n","import { useNavigate } from 'react-router-dom';\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { db } from '../../firebase/firebase';\nimport { doc, getDoc, setDoc, deleteDoc } from 'firebase/firestore';\nimport OptimizedImage from '../common/OptimizedImage';\n\n// URL de imagem padrão\nconst DEFAULT_THUMBNAIL = 'https://via.placeholder.com/300x450?text=Sem+Imagem';\n\nexport default function Card({ movie: movieProp, locked = false }) {\n  const navigate = useNavigate();\n  const { currentUser } = useAuth();\n  const [isInWatchlist, setIsInWatchlist] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n\n  // Garante que movie nunca será undefined ou nulo e define valores padrão\n  const movie = useMemo(\n    () => ({\n      id: movieProp?.id || '',\n      title: movieProp?.title || 'Filme não disponível',\n      thumbnailUrl: movieProp?.thumbnailUrl || DEFAULT_THUMBNAIL,\n      genres: Array.isArray(movieProp?.genres) ? movieProp.genres : [],\n      year: movieProp?.year || '',\n      description: movieProp?.description || '',\n      type: 'movie'\n    }),\n    [movieProp]\n  );\n\n  // Verifica se o filme está na lista de favoritos\n  const checkWatchlist = useCallback(async () => {\n    if (!currentUser?.uid || !movie.id) {\n      setIsInWatchlist(false);\n      return;\n    }\n\n    try {\n      const watchlistRef = doc(db, 'users', currentUser.uid, 'watchlist', movie.id);\n      const docSnap = await getDoc(watchlistRef);\n      setIsInWatchlist(docSnap.exists());\n    } catch (error) {\n      console.error('Erro ao verificar lista de favoritos:', error);\n      setIsInWatchlist(false);\n    }\n  }, [currentUser, movie.id]);\n\n  useEffect(() => {\n    checkWatchlist();\n  }, [checkWatchlist]);\n\n  // Função para alternar o filme na lista de favoritos\n  const toggleWatchlist = useCallback(\n    async (e) => {\n      e?.stopPropagation();\n\n      if (!currentUser) {\n        navigate('/login');\n        return;\n      }\n\n      if (!movie.id) {\n        console.error('ID do filme inválido');\n        return;\n      }\n\n      try {\n        const watchlistRef = doc(db, 'users', currentUser.uid, 'watchlist', movie.id);\n\n        if (isInWatchlist) {\n          await deleteDoc(watchlistRef);\n          setIsInWatchlist(false);\n        } else {\n          await setDoc(watchlistRef, {\n            id: movie.id,\n            type: movie.type,\n            title: movie.title || 'Filme sem título',\n            thumbnailUrl: movie.thumbnailUrl || DEFAULT_THUMBNAIL,\n            addedAt: new Date().toISOString()\n          });\n          setIsInWatchlist(true);\n        }\n      } catch (error) {\n        console.error('Erro ao atualizar lista de favoritos:', error);\n      }\n    },\n    [currentUser, isInWatchlist, navigate, movie]\n  );\n\n  const handleClick = useCallback(() => {\n    if (locked) {\n      navigate('/login');\n    } else if (movie.id) {\n      navigate(`/title/${movie.id}`);\n    }\n  }, [locked, navigate, movie.id]);\n\n  return (\n    <div\n      className=\"card\"\n      onClick={handleClick}\n      title={movie.title}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      style={{\n        position: 'relative',\n        cursor: locked ? 'not-allowed' : 'pointer',\n        opacity: locked ? 0.7 : 1,\n        transition: 'all 0.3s ease',\n        transform: isHovered ? 'scale(1.05)' : 'scale(1)',\n        zIndex: isHovered ? 2 : 1,\n        width: '200px',\n        minWidth: '200px',\n        height: 'auto',\n        borderRadius: '8px',\n        overflow: 'hidden',\n        boxShadow: '0 4px 8px rgba(0,0,0,0.2)'\n      }}\n    >\n      <div style={{ position: 'relative', width: '100%', paddingTop: '150%' }}>\n        <OptimizedImage\n          src={movie.thumbnailUrl}\n          alt={`Capa de ${movie.title}`}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover',\n            transition: 'transform 0.3s ease'\n          }}\n        />\n\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 50%)',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'flex-end',\n            padding: '12px',\n            opacity: isHovered ? 1 : 0,\n            transition: 'opacity 0.3s ease'\n          }}\n        >\n          <h3\n            style={{\n              color: '#fff',\n              margin: '0 0 8px 0',\n              fontSize: '0.95rem',\n              textShadow: '0 1px 3px rgba(0,0,0,0.6)'\n            }}\n          >\n            {movie.title}\n          </h3>\n\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginTop: 'auto'\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n                color: 'rgba(255,255,255,0.9)',\n                fontSize: '0.8rem'\n              }}\n            >\n              {movie.year && <span>{movie.year}</span>}\n              {movie.genres?.[0] && <span>• {movie.genres[0]}</span>}\n            </div>\n\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                toggleWatchlist(e);\n              }}\n              style={{\n                background: isInWatchlist ? 'rgba(13, 110, 253, 0.9)' : 'rgba(0, 0, 0, 0.6)',\n                border: 'none',\n                color: '#fff',\n                width: '28px',\n                height: '28px',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                fontSize: '1rem'\n              }}\n              title={isInWatchlist ? 'Remover da lista' : 'Adicionar à lista'}\n              onMouseEnter={(e) => {\n                if (isInWatchlist) {\n                  e.currentTarget.innerHTML = '×';\n                  e.currentTarget.style.transform = 'scale(1.1)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (isInWatchlist) {\n                  e.currentTarget.innerHTML = '✓';\n                  e.currentTarget.style.transform = 'scale(1)';\n                }\n              }}\n            >\n              {isInWatchlist ? '✓' : '+'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {locked && (\n        <div\n          style={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            background: 'rgba(0,0,0,0.7)',\n            color: 'white',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '12px',\n            fontWeight: 'bold',\n            pointerEvents: 'none'\n          }}\n        >\n          Faça login\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState } from 'react';\n\nexport default function OptimizedImage({ src, alt, className, style, ...props }) {\n  const [error, setError] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n\n  const handleError = () => {\n    setError(true);\n  };\n\n  const handleLoad = () => {\n    setLoaded(true);\n  };\n\n  const fallbackSrc = 'https://via.placeholder.com/300x450?text=Sem+Imagem';\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        overflow: 'hidden',\n        backgroundColor: '#222',\n        ...style\n      }}\n      className={className}\n    >\n      <img\n        src={error ? fallbackSrc : src}\n        alt={alt}\n        loading=\"lazy\"\n        onError={handleError}\n        onLoad={handleLoad}\n        style={{\n          width: '100%',\n          height: '100%',\n          objectFit: 'cover',\n          opacity: loaded ? 1 : 0,\n          transition: 'opacity 0.3s ease-in-out',\n          display: 'block'\n        }}\n        {...props}\n      />\n    </div>\n  );\n}\n"],"names":["DEFAULT_THUMBNAIL","SeriesCard","_ref","_series$genres","series","seriesProp","locked","navigate","useNavigate","currentUser","useAuth","isInWatchlist","setIsInWatchlist","useState","isHovered","setIsHovered","useMemo","id","title","thumbnailUrl","genres","Array","isArray","year","type","description","checkWatchlist","useCallback","async","uid","watchlistRef","doc","db","docSnap","getDoc","exists","error","console","useEffect","toggleWatchlist","e","stopPropagation","deleteDoc","setDoc","addedAt","Date","toISOString","handleClick","concat","_jsxs","className","onClick","onMouseEnter","onMouseLeave","style","position","cursor","opacity","transition","transform","zIndex","width","minWidth","height","borderRadius","overflow","boxShadow","children","paddingTop","_jsx","OptimizedImage","src","alt","top","left","objectFit","right","bottom","background","display","flexDirection","justifyContent","padding","color","margin","fontSize","textShadow","alignItems","marginTop","gap","border","fontWeight","pointerEvents","Skeleton","classes","Row","genre","watchlist","continueWatching","items","loading","setItems","setLoading","setError","fetchItems","collectionName","genreFilter","data","qNew","query","collection","where","getDocs","docs","map","_objectSpread","length","qOld","q","limit","err","isMounted","progressSnap","watchingSnap","userWatchingList","progressSnapResult","watchingSnapResult","userDoc","Promise","all","watching","size","empty","allItems","processedSeriesIds","Set","forEach","push","currentTime","duration","seriesId","split","add","has","itemPromises","filter","item","isSeries","docId","resolve","itemData","progress","Math","min","validItems","Boolean","listSnap","watchlistItems","itemType","itemDoc","sort","a","b","localeCompare","moviesData","seriesData","load","useRowData","scrollerRef","useRef","showLeftButton","setShowLeftButton","showRightButton","setShowRightButton","scroll","direction","scroller","current","scrollAmount","scrollBy","behavior","checkScroll","scrollLeft","scrollWidth","clientWidth","addEventListener","removeEventListener","FaChevronLeft","ref","from","_","index","Component","Card","props","movie","key","FaChevronRight","_movie$genres","movieProp","currentTarget","innerHTML","_objectWithoutProperties","_excluded","loaded","setLoaded","backgroundColor","onError","handleError","onLoad","handleLoad"],"sourceRoot":""}